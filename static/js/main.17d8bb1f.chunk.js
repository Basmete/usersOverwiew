(this.webpackJsonpemphasoft=this.webpackJsonpemphasoft||[]).push([[0],{132:function(e,t,a){e.exports=a(278)},138:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(120),l=a.n(s),i=a(22),c=a.n(i),o=a(39),u=a(10),d=a(11),m=a(21),h=a(14),p=a(13),v=(a(138),a(40)),g=a.n(v),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={username:"test_super",password:"Nf<U4f<rDbtDxAPn",isLoginFailed:!0},n}return Object(d.a)(a,[{key:"inputHandler",value:function(e){"text"===e.target.type?this.setState({username:e.target.value}):"password"===e.target.type&&this.setState({password:e.target.value})}},{key:"login",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.password,n=t.username,e.next=4,g.a.post("https://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{username:n,password:a});case 4:((r=e.sent).status=200)&&(s=r.data.token,this.props.saveToken(s),this.props.closeLogin()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({isLoginFailed:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isLoginFailed?"hidden":null;return r.a.createElement("div",{className:"modal-window"},r.a.createElement("div",{className:"modal-window__content container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("header",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0437\u0430\u043f\u0438\u0441\u044c")),r.a.createElement("div",{className:"col-lg-12 modal-window__input"},r.a.createElement("label",null,"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("input",{onChange:function(t){return e.inputHandler(t)},type:"text"})),r.a.createElement("div",{className:"col-lg-12 modal-window__input"},r.a.createElement("label",null,"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{onChange:function(t){return e.inputHandler(t)},type:"password"})),r.a.createElement("div",{className:"col-lg-12 modal-window__input"},r.a.createElement("a",{onClick:function(){return e.login()},className:"btn btn-success"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:"col-lg-12 modal-window__login-failure"},r.a.createElement("p",{className:t},"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.")))))}}]),a}(r.a.Component),b=a(68),E=a(2),y=(a(276),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={sortColumn:"id"},n.handleSortColumn=n.handleSortColumn.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"getData",value:function(){var e=this.state,t=e.sortColumn,a=e.sortType,n=this.props.data;return t&&a?n.sort((function(e,n){var r=e[t],s=n[t];return"string"===typeof r&&(r=r.charCodeAt()),"string"===typeof s&&(s=s.charCodeAt()),"asc"===a?r-s:s-r})):n}},{key:"handleSortColumn",value:function(e,t){var a=this;this.setState({loading:!0}),setTimeout((function(){console.log(e),a.setState({sortColumn:e,sortType:t,loading:!1})}),500)}},{key:"render",value:function(){var e=this.getData().map((function(e){var t=e.is_active?"\u0412 \u0441\u0435\u0442\u0438":"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",a=e.is_superuser?"\u0421\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",n=e.last_login?"".concat(e.last_login.substr(0,10)):"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";return Object(b.a)(Object(b.a)({},e),{},{is_active:t,is_superuser:a,last_login:n})}));return r.a.createElement("div",null,r.a.createElement(E.d,{height:800,data:e,sortColumn:this.state.sortColumn,sortType:this.state.sortType,onSortColumn:this.handleSortColumn,loading:this.state.loading,onRowClick:function(e){},rowHeight:100,wordWrap:!0},r.a.createElement(E.b,{verticalAlign:"middle",width:80,sortable:!0,resizable:!0,align:"center"},r.a.createElement(E.c,null,"ID"),r.a.createElement(E.a,{dataKey:"id"})),r.a.createElement(E.b,{verticalAlign:"middle",width:90,sortable:!0,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"),r.a.createElement(E.a,{dataKey:"username"})),r.a.createElement(E.b,{verticalAlign:"middle",width:200,sortable:!0,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u0418\u043c\u044f"),r.a.createElement(E.a,{dataKey:"first_name"})),r.a.createElement(E.b,{verticalAlign:"middle",width:100,sortable:!0,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement(E.a,{dataKey:"last_name"})),r.a.createElement(E.b,{verticalAlign:"middle",width:200,sortable:!0,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u0412 \u0441\u0435\u0442\u0438"),r.a.createElement(E.a,{dataKey:"is_active"})),r.a.createElement(E.b,{verticalAlign:"middle",width:200,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u0445\u043e\u0434"),r.a.createElement(E.a,{dataKey:"last_login"})),r.a.createElement(E.b,{verticalAlign:"middle",width:220,resizable:!0,align:"center"},r.a.createElement(E.c,null,"\u0421\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement(E.a,{dataKey:"is_superuser"}))))}}]),a}(n.Component)),w=(a(277),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={search:""},n}return Object(d.a)(a,[{key:"updateSearch",value:function(e){var t=this;this.setState({search:e.target.value.substr(0,20)},(function(){return t.props.update(t.state.search)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-container"},r.a.createElement("label",{className:"search-label",htmlFor:"search-input"},r.a.createElement("h4",null,"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0443"),r.a.createElement("input",{type:"text",value:this.state.search,id:"search-input",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0438\u043a\u043d\u0435\u0439\u043c",onChange:function(t){return e.updateSearch(t)}})))}}]),a}(r.a.Component)),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={token:null,loginEnd:!1,usersArray:[],query:""},n.updateSearchQuery=n.updateSearchQuery.bind(Object(m.a)(n)),n}return Object(d.a)(a,[{key:"saveToken",value:function(e){this.setState({token:e})}},{key:"closeLogin",value:function(){this.setState({loginEnd:!0}),this.getDataFromAPI(this.state.token)}},{key:"updateSearchQuery",value:function(e){this.setState((function(t){return{query:e}}))}},{key:"getDataFromAPI",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://emphasoft-test-assignment.herokuapp.com/api/v1/users/",{headers:{Authorization:"Token ".concat(t)}});case 2:a=e.sent,this.setState({usersArray:a.data});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.query,t=e?this.state.usersArray.filter((function(t){return-1!==t.username.toLowerCase().indexOf(e.toLowerCase())})):this.state.usersArray;return r.a.createElement("div",{className:"App container"},this.state.loginEnd?r.a.createElement(w,{update:this.updateSearchQuery}):null,this.state.loginEnd?null:r.a.createElement(f,{saveToken:this.saveToken.bind(this),closeLogin:this.closeLogin.bind(this)}),this.state.loginEnd?r.a.createElement(y,{data:t}):null)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.17d8bb1f.chunk.js.map